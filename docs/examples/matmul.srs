fn dot{#N}(a: f64[N], b: f64[N]) -> f64 {
    let v = 0.;
    for n from 0 to N {
        v := v + a[n]*b[n];
    }

    return v;
}
 
fn matmul{#I, #J, #K}(a: f64[I, J], b: f64[J, K]) -> f64[I, K] {
    for i from 0 to I {
        for k from 0 to K {
            yield dot(a[i], b'[k]);
        }
    }
}

fn main() {
    let a = [
        [1., 2., 3.],
        [4., 5., 6.]
    ];

    let b = [
        [1., 2.],
        [3., 4.],
        [5., 6.]
    ];

    print matmul(a, b);
}